(this.webpackJsonpair_condition=this.webpackJsonpair_condition||[]).push([[0],{21:function(e,a,t){e.exports=t(41)},26:function(e,a,t){},28:function(e,a,t){},29:function(e,a,t){},35:function(e,a,t){},36:function(e,a,t){},37:function(e,a,t){},38:function(e,a,t){},40:function(e,a,t){},41:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(17),c=t.n(l),s=(t(26),t(11)),u=t(8),i=Object(n.createContext)(null),o=t(20),m=t(4),v=t.n(m),f=t(7),d=function(e){var a=Object(n.useState)(null),t=Object(f.a)(a,2),r=t[0],l=t[1],c=Object(n.useState)(null),s=Object(f.a)(c,2),u=s[0],i=s[1],m=Object(n.useState)(null),d=Object(f.a)(m,2),p=d[0],E=d[1],N=Object(n.useState)([]),g=Object(f.a)(N,2),y=g[0],h=g[1];return{getAllStation:function(e){var a,t;return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.a.awrap(fetch(e));case 2:return a=n.sent,n.next=5,v.a.awrap(a.json());case 5:t=n.sent,l(t);case 7:case"end":return n.stop()}}))},allStation:r,getStation:function(e){var a,t;return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.a.awrap(fetch(e));case 2:return a=n.sent,n.next=5,v.a.awrap(a.json());case 5:t=n.sent,i(t);case 7:case"end":return n.stop()}}))},station:u,getMeasuringStations:function(e){var a,t;return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.a.awrap(fetch(e));case 2:return a=n.sent,n.next=5,v.a.awrap(a.json());case 5:t=n.sent,E(t);case 7:case"end":return n.stop()}}))},measuringStations:p,getMeasuringData:function(e){var a,t;return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.a.awrap(fetch(e));case 2:return a=n.sent,n.next=5,v.a.awrap(a.json());case 5:t=n.sent,h((function(e){return[].concat(Object(o.a)(e),[t])}));case 7:case"end":return n.stop()}}))},measuringData:y}},p=(t(28),function(e){var a=e.search,t=Object(n.useState)(""),l=Object(f.a)(t,2),c=l[0],s=l[1];return Object(n.useEffect)((function(){""!==c&&a(c)}),[c]),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col search"},r.a.createElement("input",{className:"search__input",type:"tekst",placeholder:"Enter city",value:c,onChange:function(e){s(e.target.value)}}))))}),E=(t(29),function(e){var a=e.item,t=a.city.name,n=a.addressStreet,l=a.id;return r.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-4 col-xl-3"},r.a.createElement("div",{className:"station"},r.a.createElement("div",{className:"station__content"},r.a.createElement("h2",{className:"station__title"},t),r.a.createElement("p",{className:"station__address"},n),r.a.createElement("div",{className:"station__button"},r.a.createElement("button",null,r.a.createElement(s.b,{to:"/info/".concat(l)},"Show air quality"))))))}),N=(t(35),function(){var e,a,t,l,c=Object(n.useContext)(i),s=function(n){var r=n.coords.latitude,c=n.coords.longitude;e=r+.2,a=r-.2,t=c+.25,l=c-.25},u=null!==c&&c.filter((function(n){return n.gegrLat>a&&n.gegrLat<e&&n.gegrLon>l&&n.gegrLon<t}));return navigator.geolocation&&navigator.geolocation.getCurrentPosition(s),r.a.createElement("div",{className:"geolocation"},r.a.createElement("h2",{className:"geolocation__title"},"Nearest measuring stations"),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row no-gutters"},u.length>0&&u.map((function(e){return r.a.createElement(E,{key:e.id,item:e})})))))}),g=function(){var e=Object(n.useContext)(i),a=Object(n.useState)([]),t=Object(f.a)(a,2),l=t[0],c=t[1];return r.a.createElement("div",{className:"container "},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col"},r.a.createElement(p,{search:function(a){var t=e.filter((function(e){return null!==e.city?e.city.name.toLowerCase()===a.toLowerCase():null}));c(t)}}),l.length>0?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row no-gutters"},l.map((function(e){return r.a.createElement(E,{key:e.id,item:e})})))):r.a.createElement(N,null))))},y=t(1),h=(t(36),function(e){var a=e.item;return r.a.createElement("div",{className:"icon"},function(e){if("PM10"===e.key){if(e.values[1].value<50)return r.a.createElement(y.c,{className:"happy"});if(e.values[1].value<200)return r.a.createElement(y.b,{className:"neutral"});if(e.values[1].value>200)return r.a.createElement(y.b,{className:"neutral-sad"});if(e.values[1].value>=300)return r.a.createElement(y.a,{className:"sad"})}else if("PM2.5"===e.key){if(e.values[1].value<25)return r.a.createElement(y.c,{className:"happy"});if(e.values[1].value>25)return r.a.createElement(y.b,{className:"neutral"});if(e.values[1].value>=30)return r.a.createElement(y.b,{className:"neutral-sad"});if(null===e.values[1].value)return r.a.createElement("span",null,"Brak danych")}else if("O3"===e.key){if(e.values[1].value<120)return r.a.createElement(y.c,{className:"happy"});if(e.values[1].value>120)return r.a.createElement(y.b,{className:"neutral"});if(e.values[1].value>180)return r.a.createElement(y.b,{className:"neutral-sad"});if(e.values[1].value>=240)return r.a.createElement(y.a,{className:"sad"})}else if("SO2"===e.key){if(e.values[1].value<125)return r.a.createElement(y.c,{className:"happy"});if(e.values[1].value>125)return r.a.createElement(y.b,{className:"neutral"});if(e.values[1].value>350)return r.a.createElement(y.b,{className:"neutral-sad"});if(e.values[1].value>=500)return r.a.createElement(y.a,{className:"sad"})}else if("NO2"===e.key){if(e.values[1].value<=40)return r.a.createElement(y.c,{className:"happy"});if(e.values[1].value>40)return r.a.createElement(y.b,{className:"neutral"});if(e.values[1].value>200)return r.a.createElement(y.b,{className:"neutral-sad"});if(e.values[1].value>=400)return r.a.createElement(y.a,{className:"sad"})}else if("CO"===e.key){if(e.values[1].value<=11.1)return r.a.createElement(y.c,{className:"happy"});if(e.values[1].value>11.1)return r.a.createElement(y.b,{className:"neutral"});if(e.values[1].value>=43.2)return r.a.createElement(y.a,{className:"sad"})}else if("C6H6"===e.key){if(e.values[1].value<=5)return r.a.createElement(y.c,{className:"happy"});if(e.values[1].value>5)return r.a.createElement(y.a,{className:"sad"})}}(a))}),b=(t(37),function(e){var a=e.result;return r.a.createElement("div",{className:"station-result",key:a.key},r.a.createElement("span",{className:"station-result__title"},"PM2.5"===a.key?"Suspended dust":null,"PM10"===a.key?"Suspended dust":null,"NO2"===a.key?"Nitrogen dioxide":null,"CO"===a.key?"Carbon monoxide":null,"C6H6"===a.key?"Benzene":null,"O3"===a.key?"Ozone":null,"SO2"===a.key?"Sulphur dioxide":null),r.a.createElement("span",{className:"station-result__name"},a.key),r.a.createElement(h,{item:a}))}),k=(t(38),function(e){var a=d(),t=a.getMeasuringStations,l=a.measuringStations,c=a.getMeasuringData,s=a.measuringData,u=e.match,i="http://api.gios.gov.pl/pjp-api/rest/station/sensors/".concat(u.params.id);return Object(n.useEffect)((function(){t(i)}),[]),Object(n.useEffect)((function(){if(null!==l){var e=!0,a=!1,t=void 0;try{for(var n,r=l[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var s=n.value;c("http://api.gios.gov.pl/pjp-api/rest/data/getData/".concat(s.id))}}catch(u){a=!0,t=u}finally{try{e||null==r.return||r.return()}finally{if(a)throw t}}}}),[l]),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("button",{onClick:function(){return e.history.goBack()},className:"button-info"},"Back"),null!==s&&r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"air-info"},r.a.createElement("div",{className:"air-info__content"},s.map((function(e){return r.a.createElement(b,{key:e.key,result:e})}))))))))))});t(39),t(40);var w=function(){var e=d(),a=e.getAllStation,t=e.allStation;return Object(n.useEffect)((function(){a("http://api.gios.gov.pl/pjp-api/rest/station/findAll")}),[]),r.a.createElement("div",{className:"App"},r.a.createElement("h1",{className:"App__title"},"Air quality app"),r.a.createElement(s.a,null,r.a.createElement(u.c,null,r.a.createElement(i.Provider,{value:t},r.a.createElement(u.a,{exact:!0,path:"/",component:g}),r.a.createElement(u.a,{exact:!0,path:"/info/:id",component:k})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[21,1,2]]]);
//# sourceMappingURL=main.0d7463c0.chunk.js.map